<div class="card border-0 rounded shadow-sm ml-3 m-3 p-3">
  <form [formGroup]="form">
    <h1 class="col-4 col-lg-3">
      <span class="texto-destaque">Equipamento</span>
    </h1>
    <div class="p-3">
      <div class="row">
        <div class=" col-lg-6 col-sm-12">
          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Código do Equipamento</mat-label>
            <input matInput [formControl]="f.codigoTipoEquipamento" name="codigoTipoEquipamento">
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-sm-12">
          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Descrição</mat-label>
            <input matInput placeholder="Ex: Teclado RGB Gamer Dragon" [formControl]="f.tipoEquipamento" required
              name="tipoEquipamento">
            <mat-error *ngIf="f.tipoEquipamento.errors?.required">A descrição é obrigatória</mat-error>
            <mat-error *ngIf="f.tipoEquipamento.errors?.maxlength">A descrição deve conter no máximo 50 letras
            </mat-error>
            <mat-error *ngIf="f.tipoEquipamento.errors?.minlength">A descrição deve conter no mínimo 5 letras
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-6 col-sm-12">
          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Categoria</mat-label>
            <mat-select [formControl]="f.codigoCategoria" #selectCategoria (openedChange)="onSelectAberto($event, 'selectCategoria', metodoCarregarCategorias)" name="codigoCategoria" required>
              <mat-option value="" disabled>--Selecione uma categoria--</mat-option>
              <mat-option [value]="item.codigoCategoria" *ngFor="let item of categorias">
                {{item.codigoCategoria}} - {{ item.descricao }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="f.codigoCategoria.errors?.required">A categoria é obrigatório </mat-error>
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-sm-12">
          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Fabricante</mat-label>
            <mat-select [formControl]="f.codigoFabricante" #selectFabricante (openedChange)="onSelectAberto($event, 'selectFabricante', metodoCarregarFabricantes)" name="codigoFabricante" required>
              <mat-option value="" disabled>--Selecione um fabricante--</mat-option>
              <mat-option *ngFor="let fabricante of fabricantes" [value]="fabricante.codigoFabricante">
                {{fabricante.codigoFabricante}} - {{ fabricante.nomeFabricante }}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="f.codigoFabricante.errors?.required">O Fabricante é obrigatório </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="form-row pt-3">
        <div class="row">
          <div class="col">
            <button type="button" class="btn btn-block cadastrar me-2" (click)="salvarAlteracao()"
              [disabled]="!form.valid">
              {{
                this.estadoSalvar.includes("cadastrar")
                  ? "Cadastrar"
                  : "Atualizar"
              }}
            </button>
            <app-button (click)="limparCampos()" [classeBotao]="classeBotaoLimpar">
              Limpar
            </app-button>
          </div>

        </div>
      </div>
    </div>
  </form>
</div>
<ngx-spinner name="cadastrado" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box"
  [fullScreen]="true">
  <p style="color: white">Cadastrando...</p>
</ngx-spinner>
<ngx-spinner name="atualizado" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box"
  [fullScreen]="true">
  <p style="color: white">Atualizando...</p>
</ngx-spinner>
<ngx-spinner name="carregando" bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box"
  [fullScreen]="true">
  <p style="color: white">Carregando...</p>
</ngx-spinner>
